import s from "./Menu.module.scss";
import { NavLink } from "react-router-dom";
import { useSelector } from "react-redux";
import { Link } from "react-scroll";
import cn from "classnames";
export const Menu = () => {
  const count = useSelector((state) => state.product.basket);
  const categories = useSelector((state) => state.product.categories);
  return (
    <menu className={s.headerMenu}>
      <div className={"container"}>
        <div className={s.nav}>
          <ul className={s.navLinks}>
            {categories.map((el, index) => {
              if (index < 4) {
                return (
                  <li key={el.id}>
                    <NavLink to={`/category/${el.url}`}>{el.name}</NavLink>
                  </li>
                );
              }
              return;
            })}
            <li>
              <Link
                to={"extra"}
                activeClass={"active"}
                spy={true}
                smooth={true}
                offset={0}
                duration={500}
              >
                ...Ещё
              </Link>
            </li>
          </ul>
          <div className={s.navComeIn}>
            <NavLink to={"/login"}>
              <div className={s.item}>
                <div className={s.itemWrap}>
                  <svg
                    width="22"
                    height="25"
                    viewBox="0 0 22 25"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M15.8536 4.72414H5.91699V1.72414C5.91699 1.31034 6.22431 1 6.63407 1H15.1365C15.5463 1 15.8536 1.31034 15.8536 1.72414V4.72414V4.72414Z"
                      stroke="black"
                      strokeWidth="1.2"
                      strokeMiterlimit="10"
                      strokeLinejoin="round"
                    ></path>
                    <path
                      d="M4.4834 21.4824V23.7583H17.2883V21.4824H4.4834Z"
                      stroke="black"
                      strokeWidth="1.2"
                      strokeMiterlimit="10"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                    ></path>
                    <path
                      d="M7.86423 12.9996C8.47887 12.9996 8.88862 12.5858 8.88862 11.9651C8.88862 11.3445 8.37643 10.9307 7.86423 10.9307C7.35204 10.9307 6.83984 11.3445 6.83984 11.9651C6.83984 12.5858 7.2496 12.9996 7.86423 12.9996Z"
                      fill="black"
                      stroke="black"
                      strokeWidth="0.2"
                      strokeMiterlimit="10"
                    ></path>
                    <path
                      d="M14.0097 12.9996C14.6244 12.9996 15.0341 12.5858 15.0341 11.9651C15.0341 11.3445 14.5219 10.9307 14.0097 10.9307C13.3951 10.9307 12.9854 11.3445 12.9854 11.9651C12.9854 12.5858 13.4975 12.9996 14.0097 12.9996Z"
                      fill="black"
                      stroke="black"
                      strokeWidth="0.2"
                      strokeMiterlimit="10"
                    ></path>
                    <path
                      d="M7.86426 16C7.86426 16 8.99109 17.3448 10.9374 17.3448C12.8838 17.3448 14.113 16 14.113 16"
                      stroke="black"
                      strokeWidth="1.2"
                      strokeMiterlimit="10"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                    ></path>
                    <path
                      d="M17.4927 4.72363H4.27805C2.43415 4.72363 1 6.17191 1 8.03398V18.1719C1 20.034 2.43415 21.4823 4.27805 21.4823H17.4927C19.3366 21.4823 20.7707 20.034 20.7707 18.1719V8.03398C20.7707 6.17191 19.3366 4.72363 17.4927 4.72363Z"
                      stroke="black"
                      strokeWidth="1.2"
                      strokeMiterlimit="10"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                    ></path>
                  </svg>
                  <div className={s.itemLink}>Войти</div>
                </div>
              </div>
            </NavLink>
            <NavLink to={"/buy"}>
              <div className={cn(s.item, s.basket)}>
                <div className={s.itemWrap}>
                  <div className={s.itemBasket}>
                    <svg
                      width="24"
                      height="22"
                      viewBox="0 0 24 22"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M7.87668 13.1358C7.95859 13.5123 8.03464 13.8711 8.1107 14.2299C8.1575 14.4475 8.21016 14.6592 8.25111 14.8769C8.33302 15.3121 8.7133 15.5886 9.12283 15.5886C13.0368 15.5827 16.9508 15.5827 20.8647 15.5827C21.2158 15.5827 21.4673 15.765 21.5259 16.065C21.6019 16.4532 21.3386 16.7944 20.9408 16.8061C20.8998 16.8061 20.8647 16.8061 20.8238 16.8061C16.9391 16.8061 13.0544 16.7944 9.16964 16.812C8.05805 16.8179 7.22143 16.0356 7.01081 15.0357C6.32045 11.7536 5.60084 8.47145 4.89294 5.19521C4.68232 4.17764 4.46 3.16595 4.24353 2.14837C4.11482 1.54842 3.71114 1.21903 3.10854 1.21903C2.27777 1.21903 1.45285 1.21903 0.622087 1.21903C0.341264 1.21903 0.113095 1.05434 0.0311881 0.801413C-0.0507186 0.54849 0.0311881 0.266157 0.247656 0.124991C0.352964 0.0602898 0.481675 0.00735241 0.598685 0.00735241C1.50551 0.00147048 2.41233 -0.0102934 3.31916 0.0191163C4.36639 0.0485259 5.20886 0.777885 5.44288 1.80134C5.6418 2.67187 5.82901 3.54827 6.01623 4.42468C6.03963 4.5482 6.08643 4.57761 6.20344 4.57761C8.42663 4.57173 10.6498 4.57761 12.873 4.57761C16.3482 4.57761 19.8234 4.57761 23.2985 4.57761C23.6905 4.57761 23.9479 4.75995 23.9948 5.1011C24.0123 5.21874 23.9831 5.34814 23.9479 5.4599C23.1991 7.73032 22.4444 10.0007 21.6897 12.2712C21.6487 12.3888 21.6136 12.5065 21.5727 12.6182C21.4439 12.9947 21.2509 13.1358 20.8589 13.1358C18.6767 13.1358 16.4886 13.1358 14.3064 13.1358C12.2236 13.1358 10.1408 13.1358 8.0639 13.1358C8.01124 13.1358 7.95274 13.1358 7.87668 13.1358ZM16.5588 5.81282C14.8329 5.81282 13.1304 5.81282 11.4104 5.81282C11.4104 6.62452 11.4104 7.43035 11.4104 8.24205C13.1304 8.24205 14.8388 8.24205 16.5588 8.24205C16.5588 7.42446 16.5588 6.62452 16.5588 5.81282ZM16.5588 9.48314C14.8329 9.48314 13.1246 9.48314 11.4162 9.48314C11.4162 10.2948 11.4162 11.0948 11.4162 11.9006C13.1363 11.9006 14.8446 11.9006 16.5588 11.9006C16.5588 11.083 16.5588 10.289 16.5588 9.48314ZM17.7874 8.23617C17.8166 8.24205 17.8342 8.24205 17.8459 8.24205C19.1155 8.24205 20.3909 8.24205 21.6604 8.24793C21.7482 8.24793 21.7716 8.20676 21.795 8.13618C22.0348 7.39505 22.2747 6.65981 22.5087 5.91869C22.5204 5.8834 22.5204 5.84811 22.5263 5.81282C20.9408 5.81282 19.3612 5.81282 17.7815 5.81282C17.7874 6.62452 17.7874 7.43035 17.7874 8.23617ZM10.1759 5.81282C8.87711 5.81282 7.59586 5.81282 6.29705 5.81282C6.47257 6.6304 6.64223 7.43623 6.81189 8.24205C7.94104 8.24205 9.05848 8.24205 10.1759 8.24205C10.1759 7.43035 10.1759 6.6304 10.1759 5.81282ZM17.7932 9.47726C17.7932 10.289 17.7932 11.0948 17.7932 11.8947C17.8166 11.9006 17.8225 11.9065 17.8342 11.9065C18.7059 11.9065 19.5776 11.9065 20.4494 11.9124C20.543 11.9124 20.5605 11.8594 20.5839 11.7947C20.7068 11.4183 20.8238 11.0419 20.9467 10.6654C21.0754 10.2772 21.1982 9.88899 21.3269 9.48314C20.1451 9.47726 18.975 9.47726 17.7932 9.47726ZM10.1759 9.48314C9.14623 9.48314 8.1224 9.48314 7.09857 9.48314C7.10442 9.53608 7.11027 9.58313 7.11612 9.62431C7.26823 10.3419 7.42619 11.0595 7.57246 11.7771C7.59586 11.8888 7.64266 11.9183 7.74797 11.9183C8.51438 11.9124 9.27495 11.9183 10.0414 11.9183C10.0823 11.9183 10.1291 11.9124 10.1759 11.9124C10.1759 11.0948 10.1759 10.2948 10.1759 9.48314ZM18.0916 18.0296C19.1915 18.0355 20.0691 18.9295 20.0632 20.0294C20.0574 21.1294 19.1623 22.0116 18.0624 21.9999C16.9625 21.9881 16.1025 21.1058 16.1142 19.9883C16.12 18.8942 17.0034 18.0237 18.0916 18.0296ZM18.8405 20.0177C18.8405 19.5824 18.5129 19.253 18.0858 19.2471C17.6645 19.2471 17.3252 19.5765 17.3194 19.9883C17.3194 20.4353 17.6587 20.7764 18.0858 20.7764C18.507 20.7706 18.8463 20.4294 18.8405 20.0177ZM10.7785 21.994C9.67278 21.9822 8.80106 21.0823 8.81861 19.9706C8.83616 18.8825 9.72543 18.0119 10.8078 18.0237C11.9135 18.0355 12.7852 18.9295 12.7677 20.0294C12.7501 21.1352 11.8609 22.0116 10.7785 21.994ZM10.0355 19.9941C10.0355 20.4353 10.3631 20.7764 10.7902 20.7764C11.2056 20.7764 11.5508 20.4412 11.5566 20.0294C11.5625 19.5942 11.2232 19.253 10.7961 19.2471C10.369 19.2471 10.0355 19.5765 10.0355 19.9941Z"
                        fill="black"
                      ></path>
                    </svg>

                    {!!count.length && (
                      <div className={s.count}>{count.length}</div>
                    )}
                  </div>
                  <div className={s.itemLink}>Корзина</div>
                </div>
              </div>
            </NavLink>
          </div>
        </div>
      </div>
    </menu>
  );
};
